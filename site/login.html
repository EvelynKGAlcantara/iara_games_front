<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login - IaraGames</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    
  </head>
  <body>
   
    <section class="vh-100 gradient-custom">
      <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col-12 col-md-8 col-lg-6 col-xl-5">
            <div class="card bg-dark text-white" style="border-radius: 1rem">
              <div class="card-body p-5 text-center">
                <div class="mb-md-5 mt-md-4 pb-5">
                  <h2 class="fw-bold mb-2 text-uppercase">Login</h2>
                  <p class="text-white-50 mb-5">
                    Insira suas credenciais para fazer login no Iara Games!
                  </p>
<form id="loginForm"> 
                  <div data-mdb-input-init class="form-group form-outline form-white mb-4" >
                    <label class="form-label" for="email">E-mail</label>
                    <input
                    type="email" class="form-control form-control-lg" id="email" required
                      
                    />
                  </div>

                  <div data-mdb-input-init class="form-group form-outline form-white mb-4" >
                    <label class="form-label" for="senha">Senha</label>
                    <input
                    type="password"
                    class="form-control form-control-lg"
                    id="senha"
                    required
                     
                    />
                  </div>

                  <button
                    data-mdb-button-init
                    data-mdb-ripple-init
                    class="btn btn-primary btn-lg px-5"
                    type="submit"
                  >
                    Login
                  </button>
                </div>
              </form>
                <div>
                  <p class="mb-0">
                    NÃ£o tem uma conta?
                    <a href="#!" class="text-white-50 fw-bold">Criar</a>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </section>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const loginForm = document.getElementById("loginForm");
        if (loginForm) {
          loginForm.addEventListener("submit", async function (event) {
            event.preventDefault();
            const email = document.getElementById("email").value;
            const senha = document.getElementById("senha").value;
            const response = await fetch(
              "https://iaragamesbackend-production-d2b5.up.railway.app/usuario/login",
              {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ email, senha }),
              }
            );
            if (response.ok) {
              window.location.href = "index.html";
            } else {
              document.getElementById("errorMessage").style.display = "block";
            }
          });
        }
      });
    </script>
  </body>
</html>
